<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<title>Troubleshooting Tips</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<meta name="viewport" content="user-scalable=no, width=device-width" />
		<meta name="ua-loopback" content="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/600.6.3 (KHTML, like Gecko) Version/8.0.6 Safari/600.6.3" />
		<meta name="mobdev-detected" content="" />		
		<link rel="stylesheet" type="text/css" media="all" href="http://timdietrich.me/application/ui-stylesheet.css" />
	</head>

	<body>
	
		<div style="background: #fff; padding: 24px; border: 1px solid #8F8F8F; width: 800px; margin-left: auto; margin-right: auto; margin-top: 24px; margin-bottom: 24px; border-radius: 12px; box-shadow: 4px 4px 2px #888888;">								
			<!-- Page Header Row -->
<div class="header-title" style="width: 100%; text-align: left; font-size: 10pt; padding-bottom: 9px; margin-bottom: 0px; border-bottom: solid 1px #ccc;">
				
	<div>
	<a href="http://timdietrich.me/" style="font-size: 18pt; font-weight: bold; text-decoration: none; color: black;">
	Tim Dietrich</a>
	</div>
	<div style="margin-top: 3px;">	
	<span style="margin-left: 0px; margin-right: 3px;">
	<a href="http://timdietrich.me/application/index.php" class="nav_link" title="About Tim">
	About</a></span> |
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://timdietrich.me/application/work.php" class="nav_link" title="Database Consulting">
	Database Consulting</a></span> |
	<!--
	<a href="http://timdietrich.me/application/icd10.php" class="nav_link" title="ICD-10 Work">
	ICD-10</a></span> |
	-->
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://timdietrich.me/application/books.php" class="nav_link" title="Tim's Books">
	Writing</a></span> |<!--
	<a href="http://timdietrich.me/application/courses.php" class="nav_link" title="Tim's Books">
	Courses</a></span> |	
	-->
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://art.timdietrich.me/" class="nav_link" target="_art" title="Tim's Art">
	Art</a></span> |
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://timdietrich.me/blog/" class="nav_link" title="Tim's Blog">
	Blog</a></span> |
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://timdietrich.me/application/resources.php" class="nav_link" title="Resume, Recommended Sites, Open Source Projects, etc.">
	Resources</a></span> |
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://timdietrich.me/application/contact.php" class="nav_link" x-style="font-weight: bold;" title="Contact Tim">
	Contact</a></span> |
	<span style="margin-left: 3px; margin-right: 3px;">
	<a href="http://timdietrich.me/application/newsletter.php" class="nav_link" x-style="font-weight: bold;" title="Tim's Newsletter">
	Newsletter</a>	
	</span>			
	</div>										
</div>			
			<div style="clear: both;"></div>
			
			<div style="margin-top: 18px; padding: 0px; background: #ffffff;">
						
								
					<div style="width: 65%; float: left;">
						
<h1>FMEasySync: Troubleshooting Tips</h1>

<p style="margin-top: 24px; font-weight: bold;">
Having problems with EasySync? Included below are answers to some of the more common questions that we've received, and tips on how to resolve certain issues.
</p>

<p style="background: yellow; padding: 6px;">You might also want to visit the <a href="http://fmforums.com/forums/forum/194-fm-easysync/" target="fmforums">EasySync forum</a> over on FMForums.com.</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px; font-weight: bold;">
After several months of providing support for EasySync, we have found that the problems that developers have encountered most often are:<br />
</p>
<p>
<span style="font-weight: bold;">Misconfigured relationships.</span> Double and triple-check the relationships between the EasySync_Payloads and EasySync_Payload_Details table occurrences, and particularly between the EasySync_Payload_Details table occurrence and your "ES_" table occurrences. The majority of the problems that developers encounter are due to misconfiguration in these relationships. For details on how the relationships should be setup, please see the <a href="http://timdietrich.me/fmeasysync/docs-easysync.php">EasySync Setup</a> page, or refer to the relationship graph of the the demo databases.
</p>
<p>
<span style="font-weight: bold;">Missing objects on the sync layout.</span> In the mobile version of the demo database database, there are several objects on the "EasySync_Payloads" layout that are positioned off of the visible (right-hand) edge of the layout. When setting up your sync layout, be sure to copy these objects as well.
</p>
<p>
<span style="font-weight: bold;">Attempting to host without FileMaker Server.</span> It can be done, but EasySync was not designed for this.
</p>
<p>
<span style="font-weight: bold;">Updating the hosted database with the same device that is acting as the mobile device.</span> This, too, can be done - but it makes testing a nightmare.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Does it matter how I name the table occurrences that I wire up to EasySync?</span><br />
Their names must begin with the "ES_" prefix, and you need to be sure to use the same names in both the hosted and mobile databases. Other than that, you can name them whatever you would like.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Only one record is being synced.</span><br />
This typically occurs if the relationship between EasySync_Payload_Details and one or more "ES_" tables is setup incorrectly, or if the portal to EasySync_Payload_Details on the sync layout is missing. (You'll find this portal, and a few other layout objects, positioned off of the visible (right-hand) edge of the "EasySync_Payloads" layout in the mobile version of the demo database.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">I'm getting a FileMaker 106 error ("Table is Missing") when I sync. Any idea why?</span><br />
It sounds as though the table occurrences that you have wired up in the hosted and mobile databases aren't mirrored. They must be named the exact same way.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">I'm getting a FileMaker 301 error ("Record is in use by another user") when I sync. Why?</span><br />
This typically occurs when another user - one most likely connected directly to the hosted database - is making changes to a record that the mobile user is trying to update via a sync. Essentially, that user has the record locked, and it will remain locked until they commit their changes to the database. There are settings in the hosted database that you can use to try to resolve this issue. See the "EasySync Settings" script in the hosted database, and take a look at the "$$record_lock_max_attempts" and "$$record_lock_attempt_pause" settings for more information.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">I'm getting a FileMaker 415 error ("The attempt to push data to the server has failed") when I sync. Why?</span><br />
This error typically occurs when the relationship between the EasySync_Payloads and EasySync_Payload_Details table occurrences is not configured properly. Make sure that you have the relationship setup so that on the EasySync_Payload_Details side of the relationship, both the "Allow creation of new records" and "Delete related records" options are enabled.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">I'm getting an error that reads, "The attempt to push data to the server has failed. (The message received from the server was: -X).</span><br />
These errors are thrown by the "Process Payload from Client" script in the hosted file, and indicate that the server encountered a problem during the "push" phase of the sync process. 
</p>
<p>
Positive error codes map to FileMaker's standard error codes. You can find a complete list of FileMaker error codes 
<a href="http://timdietrich.me/fmeasysync/filemaker-error-codes.php">here</a>.
</p>
<p>
Negative error codes are specific to EasySync. Here is a list of those codes and what they mean.
</p>
<p>
-1: No payload segments were found.<br />
-2: A payload segment is missing. The decimal portion of the error code indicates the specific segment that wasn't received.<br />
-3: The payload is malformed. This might occur if there was a communication problem during the transmission of the payload.<br />
-4: The payload is missing one or more payload settings.<br />
-5: The payload is missing information about the tables being synced.<br />
-6: The payload did not incude records that are to be synced.<br />
</p>


<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">I'm trying to sync for the first time, and I get an error that reads, "Unable to connect to server."</span><br />
Check to see that you have properly setup the external datasource. To do so, open the mobile database with either FileMaker Pro or FileMaker Pro Advanced. Then select File > Manage > External Data Sourcesâ€¦ Be sure that you have the "File Path List" set properly.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Can I exclude certain fields from being synced?</span><br />
Yes, and you can do so in either the mobile database, the hosted database, or both. To do so, simply add an "EXCL_" prefix to the field name. For example, to exclude a field named "Salary," change the field name to "EXCL_Salary."
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Can I exclude certain records from being synced?</span><br />
Yes, and again, you can do so in either the mobile database, the hosted database, or both. To do so, set the "ES_Exclude" field for the record(s) that you want to exclude to a value of 1. This is a very basic way of controlling what records get synced. 
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">What happens when a mobile user syncs and the "pulled" payload includes data in fields that aren't supported in the mobile database?</span><br />
The sync should work without any problem. EasySync will ignore the missing field.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">What happens when a mobile user syncs and the "pushed" payload includes data in fields that aren't in the hosted database?</span><br />
In this case, EasySync will throw an error - most likely a FileMaker 102 error ("Field is missing"). This is one of the key differences between the mobile and hosted databases, and how they process payloads. While it is not necessary for every field in a "pulled" payload to have a corresponding field in the mobile database, it is necessary for every field in a "pushed" payload to have a corresponding field in the hosted database. This difference is intentional, and designed to prevent data loss.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Records being deleted on the mobile device aren't being deleted from the hosted database. What's going on?</span><br />
Double check the "delete" button that you are using in the mobile database to be sure that you are calling the "EasySync Delete Record" script properly. If not, then the deletions are not being logged by EasySync.
</p>
<p>
In particular, make sure that you are referencing the ES_Record_UUID value of the record (or portal row) that is being deleted.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Some synced containers are being corrupted. Why?</span><br />
One possible explanation is that the values in the containers are being stored using FileMaker's "compress" option. There is a known issue with FileMaker's Base64 encoding function, where the function does not first decompress a container's contents prior to encoding. To avoid this problem, do not use compressed containers.
</p>
<p>
Note: This issue also applies to secure, external containers. FileMaker is not decrypting the containers before Base64 encoding them. As a result, decoding those values returns incorrect values.
</p>

<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">Sync status messages aren't being displayed. Any idea why?</span><br />
It has been reported that in some cases, when copying the objects from the EasySync_Payloads layout to another file, the object name for the $$EasySync_Status merge field isn't being set properly. Be sure that the object name is set to "easysync_status" (via the Inspector > Position tab > Name field).
</p>

<a name="go_crashing"></a> 
<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">FileMaker Go / FileMaker Pro is crashing when I sync. Any idea why?</span><br />
There are a number of reasons why FileMaker might crash during a sync. Contributing factors include:<br />
<br />
&bull; The memory available.<br />
&bull; Other applications that are running.<br />
&bull; <a href="http://stackoverflow.com/questions/6044147/memory-limit-and-ios-memory-allocation-in-iphone-sdk" target="_stack">Memory limits</a> of the application.<br />
</p>
<p>
Unfortunately, there isn't much we can do when this occurs, other than to restart the application and attempt to sync again.
</p>

<a name="es_device_id"></a> 
<p style="margin-top: 36px; border-top: 1px solid #ccc; padding-top: 36px;">
<span style="font-weight: bold;">What is the purpose of the ES_Device_ID field?</span><br />
EasySync keeps track of the device that last updated a record, and it does this to prevent data from being "round-tripped" during the sync process. Here's what we mean by "round tripping..."
</p>
<p>
During the sync process, the mobile device initiates the sync and pushes any records that have been added or deleted on the device since the last sync. The mobile device then pulls records from the host that have been updated since the last sync. In order to prevent that payload from including  records that the mobile device just pushed to the server, it excludes records based on the device ID. In other words, it only includes records that other users (devices) have made changes to. Otherwise, it would "round trip" those records - push them up, and then immediately pull them back down. That can prove to be very costly, especially when containers are being synced.
</p>


	
					</div>				
				
					<div style="width: 5%; float: left;">
						&nbsp;
					</div>
					
					<div style="width: 30%; float: right;">
						
<div class="banner" style="x-margin-top: 72px; line-height: 1.8em; background: #eee;">
	<div style="font-weight: bold; font-size: 12pt; margin-bottom: 9px;">EasySync Resources</div>
	&bull; <a href="http://timdietrich.me/fmeasysync/index.php">Introduction</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/faq.php">FAQ</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/downloads.php">Downloads</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/docs.php">Documentation</a><br />											
	&bull; <a href="http://timdietrich.me/fmeasysync/troubleshooting.php">Troubleshooting</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/security.php">Security Overview</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/issues.php">Open Issues List</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/wish-list.php">Feature Wish List</a><br />
	&bull; <a href="http://fmforums.com/forums/forum/194-fm-easysync/" target="_fmforums">Support Forum</a><br />
	&bull; <a href="http://timdietrich.me/application/newsletter.php">Mailing List</a><br />
	&bull; <a href="http://timdietrich.me/fmeasysync/thanks.php">Acknowledgements</a><br />
</div>


<div class="banner">
<a href="http://fmeasyweb.com">
<img src="/application/images/fmeasyweb_logo.png" align="left" height="44" style="padding-right: 9px;" border="0" align="left"></a>
With <a href="http://fmeasyweb.com">FMEasyWeb</a>, you'll be able to create Web-based FileMaker solutions without writing code.
<a href="http://fmeasyweb.com">Learn more</a>.
</div>



<div class="banner">
	<a href="/application/books.php">
	<img src="http://timdietrich.me/application/images/fmabg_cover_2.jpg" style="max-height: 60px; padding-right: 9px;" border="0" align="left"></a>
	My first book, 
	<a href="/application/books.php">
	The FileMaker Pro 13 Absolute Beginner's Guide</a>, is now available.
</div>

<div class="banner" style="min-height: 48px;">
	<a href="http://twitter.com/tdietrich" target="_twitter">
	<img src="http://timdietrich.me/application/images/twitter_black.png" height="42px" style="padding-right: 9px;" border="0" align="left"></a>
	Want to know what I'm working on? Follow me on Twitter: 
	<a href="http://twitter.com/tdietrich" target="_new">@tdietrich</a>	
</div>

					</div>
					
							
				

			</div>	
			
			<div style="clear: both;"></div>
				
			<div class="footer" style="margin-top: 24px; margin-bottom: 0px; border-top: solid 1px #ccc; padding-top: 18px; text-align: center; font-size: 10pt; padding-bottom: 0px;">
	<div>
	&copy; 2015 Tim Dietrich. 
						
</div>		
			
						
		</div>
		
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-59558723-1', 'auto');
		  ga('send', 'pageview');
		
		</script>		
		
	</body>
	
</html>